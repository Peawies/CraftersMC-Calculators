<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator | Emerald Blade</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-theme">
    <div class="container">
        <div class="header">
            <h1>Calculator | Emerald Blade</h1>
            <button id="themeToggle">üåë</button>
        </div>
        <label for="coins">How much coins <img src="images/coin.png" style="height: 1.3em; vertical-align: middle;"> you will be holding in your purse?</label>
        <input type="number" id="coins" placeholder="Enter number" min="0" oninput="enforceBounds(this)">
        <button onclick="calculateDamage()">Calculate</button>
        <div class="result" id="result">
            Base damage: 130 <img src="images/damage.png" style="height: 1.1em; vertical-align: middle;">
        </div>
    </div>
    <div class="container info-box">
        <h2 style="text-align: center;">All Calculators</h1>
        <ul><img src="minionProduction/images/minions/combat/blaze.png" style="height: 1.1em; vertical-align: middle;"> <a href="blazingAura.html">Blazing Aura</a> ‚Ä¢ <img src="minionProduction/images/minions/mining/emerald.png" style="height: 1.1em; vertical-align: middle;"> <a href="emeraldArmor.html">Emerald Armor</a> ‚Ä¢ <img src="images/coin.png" style="height: 1.1em; vertical-align: middle;"> <a href="emeraldBlade.html">Emerald Blade</a> ‚Ä¢ <img src="images/exp.png" style="height: 1.1em; vertical-align: middle;"> <a href="experience.html">Experience</a> ‚Ä¢ <img src="minionProduction/images/categories/mining.png" style="height: 1.1em; vertical-align: middle;"> <a href="minionProduction/minionProduction.html">Minion Production</a> ‚Ä¢ <img src="images/exp.png" style="height: 1.1em; vertical-align: middle;"> <a href="petLevel.html">Pet Level</a> ‚Ä¢ <img src="minionProduction/images/minions/foraging/oak.png" style="height: 1.1em; vertical-align: middle;"> <a href="raiderAxe.html">Raider Axe</a> ‚Ä¢ <img src="zombie.png" style="height: 1.1em; vertical-align: middle;"> <a href="zombieBulwark.html">Zombie Bulwark</a></ul>
    </div>
    <script>
        function enforceBounds(input) {
            const min = parseInt(input.min, 10);
            const max = parseInt(input.max, 10);
            const value = parseInt(input.value, 10);
        
            // Ensure value stays within bounds
            if (value < min) {
                input.value = min;
            } else if (value > max) {
                input.value = max;
            }
        }
        
        function calculateDamage() {
            const coins = parseInt(document.getElementById('coins').value) || 0;

            // Calculate the fourth root of coins
            const fourthRootCoins = Math.pow(coins, 1 / 4);

            // Calculate the final damage using the formula
            const finalDamage = 130 + 2.5 * fourthRootCoins;

            // Update the result with the calculated damage
            document.getElementById('result').innerHTML = `
                Base damage: 130 <img src="images/damage.png" style="height: 1.1em; vertical-align: middle;"><br>
                Damage from coins: +${(2.5 * fourthRootCoins).toFixed(2)} <img src="images/damage.png" style="height: 1.1em; vertical-align: middle;"><br>
                Final damage: ${finalDamage.toFixed(2)} <img src="images/damage.png" style="height: 1.1em; vertical-align: middle;">
            `;
        }

        // Theme Toggle Logic
        const themeToggle = document.getElementById('themeToggle');

        // Ensure the button text matches the initial theme
        if (document.body.classList.contains('dark-theme')) {
            themeToggle.textContent = '‚òÄÔ∏è';
        } else {
            themeToggle.textContent = 'üåë';
        }

        // Toggle theme on button click
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-theme');
            if (document.body.classList.contains('dark-theme')) {
                themeToggle.textContent = '‚òÄÔ∏è';
            } else {
                themeToggle.textContent = 'üåë';
            }
        });
    </script>

</body>
</html>
